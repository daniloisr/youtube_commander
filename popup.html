<!DOCTYPE html>
<html>
	<head>
		<script>
			var youtube_tab;
			chrome.tabs.getAllInWindow(chrome.windows.getCurrent(function(current_window){}),
			function(tabs){
				for(tab in tabs){
					if(tabs[tab].url.match(/youtube\.com\/watch\?v=[^&]+/i)){
                        youtube_tab = tabs[tab];
                        alert(youtube_tab.id);
						break;
					}
				}
			});
			function execute(object){
				chrome.tabs.sendRequest(youtube_tab.id, {'command': object.name}, function(data){
					console.dir(data);	
				});
			}
		</script>
	</head>
	<body>
		<div id="main">
			<div id="play_pause">
				<a id="play_pause" href="" onclick="execute(this)">Play</a>
			</div>
			<div id="stop">
				<a id="stop" href="" onclick="execute(this)">Stop</a>
			</div>
			<div id="previous">
				<a id="previous" href="" onclick="execute(this)">Previous</a>
			</div>
			<div id="next">
				<a id="next" href="" onclick="execute(this)">Next</a>
			</div>
			<div id="volume">
				<label for="volume_range">Volume</label>

				<input name="volume_range" id="volume_range"
				type="range" min="0" max="100" value="100"
				onchange="execute(this)"/>

				<a id="mute_unmute" href="" onclick="execute(this)">Mute</a>
			</div>
		</div>
	</body>
</html>
